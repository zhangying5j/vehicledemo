webpackJsonp([116],{oUwX:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=i("Dd8w"),a=i.n(l),n=i("NYxO"),r={name:"BudgetDetail",components:{BackButton:function(){return i.e(124).then(i.bind(null,"uOVF"))},QueryForm:function(){return i.e(126).then(i.bind(null,"Hb8j"))},BaseTable:function(){return i.e(123).then(i.bind(null,"ss0d"))},LifeTableAdviseList:function(){return i.e(132).then(i.bind(null,"kHaw"))}},props:{orgCode:{type:String,required:!0},version:{type:String,required:!0},channel:{type:String,required:!0},subInstitution:{type:String,required:!0},timeSlot:{type:String,required:!0},type:{type:String,required:!0}},created:function(){this.$store.dispatch("setQueryDetailData",{orgCode:this.orgCode})},data:function(){return{budget:{formulateInstitution:this.orgCode,subInstitution:"",type:"",channel:"",timeSlot:"",isUpToDate:"",version:this.version},tempcolumns:[{prop:"subInstitution",label:"机构",width:160},{prop:"type",label:"预算周期",width:100},{prop:"timeSlot",label:"预算时间段",width:120},{prop:"channel",label:"预算渠道",width:120},{prop:"targetPremium",label:"目标保费收入",width:140,isEdit:!1,type:"input"},{prop:"targetCostRate",label:"目标保单成本率 + ",width:180,isShow:!1,children:[{prop:"targetPayRate",label:"目标保单赔付率",width:140,isEdit:!1,type:"input"},{prop:"targetExpPayRate",label:"目标理赔费用率",width:140},{prop:"targetFeeRate",label:"目标保单费用率",width:140},{prop:"targetCostRate",label:"合计",width:140}]},{prop:"targetChangeCostRate",label:"目标变动成本率 + ",width:180,isShow:!1,children:[{prop:"targetPayRate",label:"目标保单赔付率",width:140,isEdit:!1,type:"input"},{prop:"targetExpPayRate",label:"目标理赔费用率",width:140},{prop:"saleRate",label:"销售费用率",width:140},{prop:"targetChangeCostRate",label:"合计",width:140}]},{prop:"targetBjCostRate",label:"目标边际成本率 + ",width:180,isShow:!1,children:[{prop:"targetPayRate",label:"目标保单赔付率",width:140,isEdit:!1,type:"input"},{prop:"serverFeeRate",label:"手续费率",width:140,isEdit:!1,type:"input"},{prop:"addTax",label:"增值税附加",width:140,isEdit:!1,type:"input"},{prop:"targetBjCostRate",label:"合计",width:140}]},{prop:"targetPayRate",label:"目标保单赔付率",width:140,isEdit:!1,type:"input"},{prop:"targetExpPayRate",label:"目标理赔费用率 + ",width:180,isShow:!1,children:[{prop:"targetDirectExpPayRate",label:"目标直接理赔费用率",width:140,isEdit:!1,type:"input"},{prop:"targetIndirectExpPayRate",label:"目标间接理赔费用率",width:140,isEdit:!1,type:"input"},{prop:"targetExpPayRate",label:"合计",width:140}]},{prop:"targetFeeRate",label:"目标保单费用率 + ",width:180,isShow:!1,children:[{prop:"saleRate",label:"销售费用率 + ",width:180,isShow:!1,children:[{prop:"serverFeeRate",label:"手续费率",width:140,isEdit:!1,type:"input"},{prop:"salePersonRate",label:"销售人力薪酬率",width:140,isEdit:!1,type:"input"},{prop:"saleDriverFeeRate",label:"营销推动费用率",width:140,isEdit:!1,type:"input"},{prop:"saleRate",label:"合计",width:140}]},{prop:"fixedFeeRate",label:"固定费用率",width:140,isEdit:!1,type:"input"},{prop:"otherFeeRate",label:"其他费用率",width:140,isEdit:!1,type:"input"},{prop:"targetFeeRate",label:"合计",width:140}]},{prop:"lossBizRatio",label:"亏损业务占比",width:140,isEdit:!1,type:"input"},{prop:"lossBizPremium",label:"严重亏损业务保费规模",width:140,isEdit:!1,type:"input"}]}},computed:a()({},Object(n.d)({tableHeader:function(e){return e.app.tableHeader},queryDetailData:function(e){return e.budget.queryDetailData}})),methods:{handleSign:function(e,t,i,l){this.tempcolumns.forEach(function(l){l.label===e.label&&(l.label=l.label.replace(t,i))}),e.label===l&&this.tempcolumns.forEach(function(l){void 0!==l.children&&l.children.forEach(function(l){l.label===e.label&&(l.label=l.label.replace(t,i))})})},hearclick:function(e,t){if(e.label.includes("+")?this.handleSign(e,"+","-","销售费用率 + "):e.label.includes("-")&&this.handleSign(e,"-","+","销售费用率 - "),1===e.level){var i=this.tempcolumns.findIndex(function(t){return t.prop===e.property});void 0!==this.tempcolumns[i].isShow&&(this.tempcolumns[i].isShow=!this.tempcolumns[i].isShow)}else if(2===e.level){this.tempcolumns.filter(function(e){return e.children}).filter(function(e){return"targetChangeCostRate"===e.prop||"targetFeeRate"===e.prop}).forEach(function(e){e.children.forEach(function(e){e.isShow=!e.isShow})})}},handleBack:function(){this.$router.push({path:"/admin/budget/query"})}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[i("div",{staticClass:"form"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,disabled:""}},[i("el-form-item",{attrs:{label:"预算制定机构"}},[i("el-input",{model:{value:e.subInstitution,callback:function(t){e.subInstitution=t},expression:"subInstitution"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"预算周期"}},[i("el-input",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"预算时间段"}},[i("el-input",{model:{value:e.timeSlot,callback:function(t){e.timeSlot=t},expression:"timeSlot"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"预算渠道"}},[i("el-input",{model:{value:e.channel,callback:function(t){e.channel=t},expression:"channel"}})],1)],1)],1),e._v(" "),i("div",{staticClass:"option"}),e._v(" "),i("div",{staticClass:"data"},[i("el-table",{attrs:{stripe:"",border:"","header-cell-style":e.tableHeader,"max-height":"550",data:e.queryDetailData},on:{"header-click":e.hearclick}},e._l(e.tempcolumns,function(t,l){return i("el-table-column",{key:Math.random()+l,attrs:{"header-align":"center",prop:t.prop,label:t.label,width:t.width,align:t.align?t.align:"center"}},[t.isShow?e._l(t.children,function(t,l){return i("el-table-column",{key:Math.random()+l,attrs:{"header-align":"center",prop:t.prop,"min-width":t.width,label:t.label,align:t.align?t.align:"center"}},[t.isShow?e._l(t.children,function(e,t){return i("el-table-column",{key:Math.random()+t,attrs:{"header-align":"center",prop:e.prop,"min-width":e.width,label:e.label,align:e.align?e.align:"center"}})}):e._e()],2)}):e._e()],2)})),e._v(" "),i("div",{staticClass:"option"},[i("back-button",{on:{prev:e.handleBack}},[e._v("返回")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small",plain:""}},[e._v("导出预算详情")])],1)],1)])},staticRenderFns:[]},p=i("VU/8")(r,o,!1,null,null,null);t.default=p.exports}});